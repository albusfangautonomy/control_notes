<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Drone Control Interview Prep</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <h2 id="q1-the-drone-starts-oscillating-in-pitch-right-after-you-increase-the-control-gain-on-pid-what-do-you-check-how-do-you-restore-stability">Q1: The drone starts oscillating in pitch right after you increase the control gain on PID. What do you check? How do you restore stability?</h2>

<h3 id="1-triage">1. Triage:</h3>
<p>Almost always caused by <strong>excessively high</strong> gains.</p>
<ol>
  <li>Actuator limits: If you’re near saturation or hitting rate limits, that can create oscillations or limit cycles.</li>
  <li>Sign/Wiring check: Ensure control sign hasn’t flipped (positive feedback will cause instant oscillation).</li>
  <li>Sensor sanity: Verify steering angle measurement is valid and not noisy.</li>
  <li>Latency: Check comms or control loop timing - extra <strong>delay</strong> can destabilize a loop even at the same gain.</li>
</ol>

<h3 id="2-diagnosis---why-gain-change-caused-oscillation">2. Diagnosis - Why gain change caused oscillation</h3>
<ol>
  <li>Increasing Kp shifts the gain crossover frequency higher, which usually reduces phase margin.</li>
  <li>Reduced phase margin → system is closer to the -180° phase point when magnitude crosses 0 dB → oscillation.</li>
</ol>

<h3 id="3-action-plan--how-to-restore-stability">3. Action plan — How to restore stability</h3>
<ol>
  <li>Quick fix: Lower Kp back down until oscillation stops, then re-tune more conservatively.</li>
  <li>Improve phase margin: Add phase lead at high frequencies to recover margin at the new crossover. Increase loop bandwidth gradually while monitoring margins.</li>
  <li>Filter noise: If derivative gain adds noise, use a small low-pass filter on the measurement.</li>
</ol>


</body>
</html>
