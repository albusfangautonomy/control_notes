<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Useful Tips | Albus’s Control Notes</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Useful Tips" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/notes/tips.html" />
<meta property="og:url" content="http://localhost:4000/notes/tips.html" />
<meta property="og:site_name" content="Albus’s Control Notes" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Useful Tips" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Useful Tips","url":"http://localhost:4000/notes/tips.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/custom.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Albus&apos;s Control Notes" /><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Albus&#39;s Control Notes</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <a class="page-link" href="/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Useful Tips</h1>
  </header>

  <div class="post-content">
    <h1 id="stability-tips">Stability Tips</h1>
<ol>
  <li>
    <p>The Gain and Phase Margins are <strong>defined with respect to open-loop transfer function</strong>, but the margins are not intrinsic properties of the open-loop system alone, and are only meaningful for the corresponding closed-loop system.</p>
  </li>
  <li>
    <p>Margins are local properties measured at specific crossover points. It is very possible for a higher-order system to have multiple crossover frequencies and therefore multiple Stability Margins. <strong>Conservative Rule</strong> the smallest (worst-case) margin dictates stability.</p>
  </li>
  <li>The Nyquist stability criterion \(Z = N + P\) or \(N = Z - P\) dictates if the Nyquist plot of a transfer function can encircle the critical point -1.
    <ul>
      <li>Classical stability margins (phase and gain margins) don’t apply in this case since they would be negative.</li>
      <li>Disk Margins can be used in this case. Disk margin is defined in terms of the smallest disk in the complex plane, centered on the critical point –1, that just touches the Nyquist plot of the open-loop transfer function \(L(s)\).</li>
      <li>Disk Margin only works on closed loop stable systems, which needs to satisfy the Nyquist Stability Criterion ie \(Z = N + P\).</li>
    </ul>
  </li>
  <li>Disk Margin investigate the closed loop robustness for all complex perturbations. Disk Margin works for <strong>MIMO systems</strong>.
    <ul>
      <li>A complex perturbations \(\sigma + j \omega\). The real part adds growth or decay to the system while the imaginary part adds phase.</li>
    </ul>
  </li>
  <li>A matrix is Hurwitz if the real part of all of its eigenvalues are negative.</li>
</ol>

<hr />

<h1 id="bode-nyquist-nichols-root-locus-tips">Bode, Nyquist, Nichols, Root Locus Tips</h1>

<ol>
  <li>
    <p>Nyquist plot is primarily for analysing open-loop system graph to determine closed loop stability - hence the -1 point</p>
  </li>
  <li>
    <p>The root locus method, the poles and zeroes you start with are those of the open-loop transfer function.</p>

    <ul>
      <li>The root locus then shows how the closed-loop poles move in the s-plane as the gain K varies</li>
      <li>The plotted pole/zero markers themselves are always the open-loop ones.</li>
    </ul>
  </li>
  <li>
    <p>When designing a controller, Bode plot you work with is almost always for the open-loop transfer function \(G(s)H(s)\)</p>
  </li>
</ol>

<h2 id="bode-plot-tips">Bode plot tips</h2>

<ol>
  <li>
    <p>Peaks in Bode plots impact closed-loop stability</p>

    <ul>
      <li>
        <p>Phase Margin reduction: At the peak, the phase often drops sharply, since the system oscillates more and delays response. If the peak is near the gain crossover frequency, this can push the phase margin down, making the closed-loop system more oscillatory or unstable.</p>
      </li>
      <li>
        <p>Lower gain margin: If the peak height is close to or above 0 dB, it takes less additional loop gain to cross into instability.</p>
      </li>
      <li>
        <p>Poor disturbance rejection: Peaks mean the system will amplify disturbances at those frequencies in closed-loop.</p>
      </li>
      <li>
        <p>High overshoot / ringing:</p>
      </li>
    </ul>
  </li>
</ol>

<h2 id="nyquist-plot-tips">Nyquist Plot tips</h2>

<ol>
  <li>Nyquist plots are plotted in <strong>polar coordinates</strong>, in contrast to Bode and Nichols.</li>
  <li>Multiplying openloop transfer function by a constant causes Nyquist plot to expand radially outward, pushing the disk margin lower.</li>
  <li>If the open loop system is stable (ie. L(s) doesn’t have any RHP poles), Nyquist plot should not encircle -1 and if it does, it means the closed loop system is unstable.</li>
  <li>If the open loop system is unstable (ie. there are RHP poles), Nyquist plot needs to encircle the -1 point \(N = Z - P\) times <strong>clockwise</strong>. This way the closed loop system is stable and the open loop system is called stabilizable.</li>
  <li>For a <strong>strictly proper</strong> or <strong>non-strictly proper</strong> transfer function, all infinite points not on the imaginary axis on the S-plane are mapped to one single point on the W-plane</li>
  <li>For strictly proper systems, that point is the origin.</li>
  <li>For nonstrictly proper systems, that point is a non-zero constant with <strong>no phase</strong> ie the point lies on the positive x-axis.</li>
</ol>

<h2 id="root-locus-tips">Root Locus Tips</h2>
<ol>
  <li>
    <p>Use lead compansator to drag your asymptotes further to the left, increasing stability and decreases transient response time in time domain.</p>

    <ul>
      <li>Asymptotes are important because they’re the trajectories of <strong>closed-loop poles</strong>.</li>
    </ul>
  </li>
  <li>
    <p>Never use lag compensator for shaping, only for SSE requirements. Rule of thumb is to place the zero of the lag compensator to be 50 times less than the real part of the dominant pole.</p>
  </li>
</ol>

<hr />

<h1 id="controllability-and-observability-tips">Controllability and Observability Tips</h1>

<ol>
  <li>
    <p>Unstable systems are not always uncontrollable. If unstable modes are controllable, then the system is <strong>stabilizable</strong>.</p>
  </li>
  <li>
    <p>Degrees of controllability can be determined from the Controllability Gramian or the SVD of the controllability matrix.</p>
  </li>
  <li>
    <p>Controllability = Reachability.</p>
  </li>
  <li>
    <p>Degrees of Observability can be determined from the Observability Gramian or the SVD of the observability matrix.</p>
  </li>
</ol>

<hr />

<h1 id="transfer-function-and-frequency-analysis-tips">Transfer Function and Frequency Analysis tips</h1>

<ol>
  <li>For an LTI system, the transfer function G(s) is the Laplace transform of the impulse response
    <ul>
      <li>It can be derived either by equations or Testing with impulse response</li>
    </ul>
  </li>
  <li>
    <p>The <strong>peaks</strong> at resonance on bode plots are caused by the presence of <strong>lightly damped poles</strong>. A higher order bode plot can have multiple peaks since the system may have multiple <strong>lightly damped poles</strong>.</p>
  </li>
  <li>The presence of <strong>RHP zeroes</strong> make the system <strong>non-minimum phase</strong> by introducing a non-causal phase lag, which means the transient response and step response go in the wrong direction first in time domain.
    <ul>
      <li><strong>Each RHP zero cause the system to switch directions</strong>.</li>
    </ul>
  </li>
  <li>
    <p>Bode plot shows the <strong>steady state response only</strong> (evaluating at \(s=j\omega\)). Transient response can only be investigated in <strong>time-domain</strong> since it is a time baseed phenomenon.</p>
  </li>
  <li>
    <p>Avoid 
\(|L(s)| = 0 dB, \angle L(s) = -180^\circ, \text{ where } |L(s)| \text{ is the open-loop transfer function}\). This is the boundary of stability. At this point gain = -1 (magnitude = 1, phase = \(-180^\circ\)), which causes denominator of closed loop transfer function to be 0.</p>
  </li>
  <li>Non-miminum phase can be primarily caused by three phenomena: 1. Time delay \(e^{-sT}\) 2. RHP zeroes 3. Non-causal/Inverse-unstable Dynamics (Non-causal systems depend on input in the future).
    <ul>
      <li><strong>Only RHP zeroes can cause step response of the system to go in the wrong direction first</strong>. Time delay only causes the step response to shift to the right.</li>
    </ul>
  </li>
  <li>
    <p>Easiest way to deal with RHP zeroes is to lower controller gain (shift magnitude plot down, thereby shifting x axis intercept to the left) to maintain stability and increase phase margin. Allocating a pole to cancel out RHP zero at the plant is risky since the output of the controller can be unbounded even if output of the plant (ie entire system) is stable.</p>
  </li>
  <li><strong>Dominant Poles</strong> are typically those with the <strong>smallest damping</strong> since the impulse response of poles with larger real parts quickly disappears.</li>
</ol>

<hr />

<h2 id="sensitivity-and-complementary-sensitivity-tips">Sensitivity and Complementary Sensitivity Tips</h2>

<ol>
  <li>
    <p>Sensitivity plots also have peaks at gain crossover frequencies. These peaks occur where the <strong>Open Loop Transfer Function</strong> \(L(s)\) is close to -1 in the complex plane. This often happens near the gain crossover frequency and when there is low damping (phase lag close to \(-180^\circ\)).</p>

    <ul>
      <li>Complementary sensitivity plots have bumps at open-loop resonance frequencies.</li>
    </ul>
  </li>
  <li>
    <p>Gain Crossover frequency is defined as the frequency 
\(\omega_{gc}\) at which \(|L(j\omega)|=1\)</p>
  </li>
  <li>
    <p>Time delay and Non-minimum phase place a <strong>fundamental limit</strong> on how small
\(max(|S|)\) can be! This is a hard rule that needs to be satisfied. One can shift \(\omega_{gc}\) to the left, which means the system can only track low frequency references and reject lower frequency disturbances.</p>
  </li>
  <li>
    <p>Peaks in Sensitivity Plots are directly correlated with Gain and Phase Margins. The smaller the margins, the bigger the peak.</p>
  </li>
  <li>
    <p>Design requirements in time domain can be characterized by features in frequency domain. Since \(T_r \omega_b=2\), where \(T_r\) is the rise time and \(\omega_b\) is the bandwidth, increasing rise time is the same as increasing bandwidth.</p>
    <ul>
      <li></li>
    </ul>
  </li>
</ol>

<h2 id="loop-shaping-tips">Loop shaping Tips</h2>

<ol>
  <li>
    <p>Loop shaping is a technique that tries to shape the <strong>Open Loop Transfer Function</strong> \(L(s)\), according to the desired shape - an <strong>integrator</strong>. The Transfer Function on the bode plot can be shifted left or right by multiplying \(L(s)\) with \(\omega_{s}\) to change the gain at low and high frequencies.</p>
  </li>
  <li>
    <p>One of the key limitations of loop shaping occurs when we have the possibility of cancellation of right half plane poles and zeros. The canceled poles and zeros do not appear in the loop transfer function but they can appear in the transfer functions from disturbances to outputs or control signals.</p>

    <ul>
      <li>Non-minimum phase systems impose severe restrictions on possible crossover frequencies according to the crossoverfrequency inequality.</li>
    </ul>
  </li>
</ol>

<hr />

<h1 id="state-space-tips">State Space Tips</h1>

<h2 id="state-space-matrix-tips">State Space Matrix Tips</h2>

<ol>
  <li>
    <p>In a linear time-invariant system with feedthrough (D*u) term. The poles of the system are only dependent on the eigenvalues of the A matrix, while the zeroes are dependent on all A, B, C, D matrices.</p>

    <ul>
      <li>
        <p>To change the poles, you need to re-design the system (dictated by eigenvalues of A).</p>
      </li>
      <li>
        <p>To change the zeros, you can change the sensors.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Zero appears whenever there is a frequency at which the system’s input-output path completely cancels out - a nonzero input produces no output in the steady state response.</p>
  </li>
  <li></li>
</ol>

<h2 id="lqg-and-extended-kalman-tips">LQG and Extended Kalman Tips</h2>

<ol>
  <li>
    <p>An LQG controller does not have any guarantee on robustness.</p>
  </li>
  <li>
    <p>LQR and LQR solves an Algebraic Riccati Equation to calculate an analytical solution to the problem given Q and R.</p>
  </li>
  <li>
    <p>If the system is observable, LQE can deduce all states from a few measurable states. Degrees of observability would be helpful when desining an observer.</p>
  </li>
</ol>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Albus&#39;s Control Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Albus&#39;s Control Notes</li><li><a class="u-email" href="mailto:albus.fang.autonomy@gmail.com">albus.fang.autonomy@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
