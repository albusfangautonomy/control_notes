<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Control Theory Techniques | Albus’s Control Notes</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Control Theory Techniques" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/notes/techniques.html" />
<meta property="og:url" content="http://localhost:4000/notes/techniques.html" />
<meta property="og:site_name" content="Albus’s Control Notes" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Control Theory Techniques" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Control Theory Techniques","url":"http://localhost:4000/notes/techniques.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/custom.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Albus&apos;s Control Notes" /><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Albus&#39;s Control Notes</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <a class="page-link" href="/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Control Theory Techniques</h1>
  </header>

  <div class="post-content">
    <h1 id="pade-approximations">Pade Approximations</h1>
<p>Pade Approximations is a technique that approximates any function with rational polynomial (any numerator order or denominator order). Pade Approximations generally produces better results than the Taylor Series since it introduces both poles and zeros rather than just zeros in Taylor Series.</p>

<p>Pade Approximations allows us to control systems with time delay with LQR and \(H_{infinity}\), and not limit ourselves to robust control techniques like loop-shaping.</p>

<p>In most real-world scenarios, Pade Approximation yields better results than Taylor Series, making it an advanced method for modeling time delay and ZOH.</p>

<h2 id="motivation">Motivation</h2>
<p>In Continuous time domain, time delay is essentially an infinite poles. Root locus, LQR, \(H_{infinity}\) wouldn’t work for systems with time delays, since it is of infinite state. We can solve this by using <a href="./techniques.html">Pade Approximation</a>.
    - Root Locus shows the trajectory of closed-loop poles, which is anchored by open-loop poles and open-loop zeros. It cannot show infinite poles for time delays.
    - LQR wouldn’t work for time delays since it would require and infinite state feedback loop.
    - \(H_{infinity}\) would generate an infinite state controller for time delay system.</p>

<h2 id="pade-approximations-of-e-x-useful-for-approximating-time-delay">Pade Approximations of \(e^{-x}\) (Useful for Approximating Time Delay)</h2>
<p><img src="../figures/pade_approx_example.png" alt="Pade Approx" /></p>

<h2 id="general-formula">General Formula</h2>

\[R(x) = \frac{\sum_{j=0}^{j=n} a_j x^j}{1 + \sum_{k=1}^{n} b_k x^k}\]

<h2 id="steps-to-calculate-pade-approximations">Steps to Calculate Pade Approximations</h2>
<ol>
  <li>Use Formula and choose \(m\) and \(n\)</li>
  <li>Equate the resulting PA formula to (m+n) Taylor Series, and solve for the coefficients \(a_i\) and \(b_i\).</li>
  <li>Plug the solved coefficients back to the formula.</li>
</ol>

<h2 id="how-to-choose-m-and-n-why-does-m--n-needs-to-hold-for-modeling-time-delay">How to choose m and n? Why does m = n needs to hold for modeling time delay?</h2>
<ol>
  <li>When using Pade Approximation to model <em>time delays</em>, \(m = n\) <strong>needs to hold</strong>, since this guarantees only changes in <em>phase</em> and not <em>gain</em>.
    <ul>
      <li>This accurately models time delay since time delays don’t affect gains.</li>
    </ul>
    <figure style="text-align: left;">
 <img src="../figures/pade_time_delay_mn.png" alt="Pade m=n time delay" width="500" height="500" />
 <figcaption>Pade m = n for Time Delay Approximation. Otherwise, gain is changed.</figcaption>
 </figure>
  </li>
  <li>To choose m = n, We need to evaluate the amount of time delay and system speed.
    <ul>
      <li>The higher the Pade Approximation order (m=n), the better high-frequency features are approximated on the phase plot.</li>
      <li>The cutoff frequency of the system (gain drops below -3 dB) determines the order.</li>
    </ul>
    <figure style="text-align: left;">
 <img src="../figures/pade_phase_order.png" alt="Pade choose order" width="500" height="500" />
 <figcaption>Higher-frequency features are approximated better by higher order Pade Approximations</figcaption>
 </figure>
  </li>
</ol>

<hr />

<h1 id="algebraic-riccati-equation">Algebraic Riccati Equation</h1>

<p>After some term re-arragnement, the cost function \(J(x,u)\) for LQR can be written as:</p>

<p><img src="../figures/riccati.png" alt="Algebraic Riccati for LQR" /></p>

<p><strong>Notes:</strong></p>

<ol>
  <li>\(P\) is solved to make the first part of the integral operand 0 (minimizes cost).</li>
  <li>Plug in \(P\) to compute \(K = R^{-1}B^TP\), which, when plugged into \(u = - K x,  makes the second term of integral operand 0, where\) R \(is the cost matrix for control effort and\)B$$ is the control input Matrix.</li>
</ol>

<h2 id="quadratic-cost">Quadratic Cost</h2>

\[J = \int_{0}^{\infty} (x^T Q x + u^T R u) dt\]

<p>where Q is the process Noise Covariance, and R is the Measurement Noise Covariance.</p>

<h2 id="solving-lqr-with-are-finding-u-to-minimize-j">Solving LQR with ARE (Finding u to minimize J)</h2>

<p>Other methods such as brute force or gradient descent are computationally expensive. ARE yeilds an analytic solution in comparison.</p>

<p>Let \(P = P^T\), \(P\) is the Estimate Error Covariance, and represents how uncertain the filter currently is about the estimated state.</p>

\[A^\top P + P A - P B R^{-1} B^\top P + Q = 0\]

<hr />

<h1 id="phase-portraits">Phase Portraits</h1>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Albus&#39;s Control Notes</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Albus&#39;s Control Notes</li><li><a class="u-email" href="mailto:albus.fang.autonomy@gmail.com">albus.fang.autonomy@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
